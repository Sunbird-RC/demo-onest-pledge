{
    "$schema": "http://json-schema.org/draft-07/schema",
    "type": "object",
    "properties": {
      "Pledge": {
        "$ref": "#/definitions/Pledge"
      }
    },
    "required": [
      "Pledge"
    ],
    "title": "Pledge",
    "definitions": {
      "Pledge": {
        "$id": "#/properties/Pledge",
        "type": "object",
        "title": "The Pledge Schema",
        "required": [
          "donorName",
          "mobileNumber",
          "email",
          "amountForPledge",
          "causeDetails"
        ],
        "properties": {
            "donorName": {
                "type": "string",
                "title": "Name"
            },
            "donorId": {
                "type": "string",
                "title": "donor Id"
            },
            "causeId": {
              "type": "string",
              "title": "osId of the cause"
            },
            "email": {
                "type": "string",
                "title": "email"
            },
            "mobileNumber": {
                "type": "string",
                "title": "mobile number"
            },
            "donorOrganisation": {
                "type": "string",
                "title": "Name of the organisation donor belongs to"
            },
            "amountForPledge": {
                "type": "string",
                "title": "Amount Pledged"
            },
            "causeDetails": {
                "type": "object",
                "properties": {
                  "causeId": {
                    "type": "string",
                    "title": "osId of the cause"
                  },
                  "causeName": {
                    "type": "string",
                    "title": "causeName"
                  },
                  "causeType":{
                    "type": "string",
                    "title": "Cause type"
                  },
                  "organisation": {
                    "type": "string",
                    "title": "Name of the organisation"
                  }
                }
            }
        }
      }
    },
    "_osConfig": {
      "enableSearch": "true",
      "indexFields": [],
      "internalFields": [
        "$.donorName",
        "$.mobileNumber",
        "$.email"
      ],
      "uniqueIndexFields": [        
        "$.donorId",
        "$.donorName",
        "$.causeDetails.causeId",
        "$.email"
      ],
      "systemFields": [
        "osCreatedAt",
        "osUpdatedAt",
        "osCreatedBy",
        "osUpdatedBy"
      ],
      "credentialTemplate": {
        "@context": [
          "https://www.w3.org/2018/credentials/v1",
          "https://raw.githubusercontent.com/Sunbird-RC/demo-onest-pledge/master/context/vc-context.json"
        ],
        "type": [
          "VerifiableCredential",
          "ProofOfPledge"
        ],
        "id": "https://pledge.onest.network/pledgecredentials/{{osid}}",
        "issuer": "https://pledge.onest.network",
        "issuanceDate": "{{osCreatedAt}}",
        "credentialSubject": {
          "type": "Person",
          "id": "did:onestPledge:{{osid}}",
          "donorId": "{{donorId}}",
          "donorName": "{{donorName}}",
          "donorOrganisation":"{{donorOrganisation}}",
          "pledge": {
            "type": "OnestPledge",
            "causeType":  "{{causeDetails.causeType}}",
            "causeId":"{{causeDetails.causeId}}",
            "causeName": "{{causeDetails.causeName}}",
            "organisation": "{{causeDetails.organisation}}",
            "amountPledged": "{{amountForPledge}}"
          }
        },
        "nonTransferable": "true"
      },
      "internalFieldConfig": "MASK",
      "inviteRoles": [
        "anonymous"
      ],
      "roles": [
        "anonymous"
      ],
      "certificateTemplates": {
        "english_portrait": "https://raw.githubusercontent.com/Sunbird-RC/demo-onest-pledge/master/templates/onest_pledge.pdf"
      }
    }
  }
  